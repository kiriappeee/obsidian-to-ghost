{"version":3,"file":"main.js","sourceRoot":"","sources":["main.ts"],"names":[],"mappings":"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","sourcesContent":["import { App, Plugin, PluginSettingTab, Setting, Notice } from 'obsidian';\n\n// Define the settings interface\ninterface GhostPublisherSettings {\n  blogUrl: string;\n  writingFolderPath: string;\n}\n\n// Define the default settings\nconst DEFAULT_SETTINGS: GhostPublisherSettings = {\n  blogUrl: '',\n  writingFolderPath: 'writing',\n};\n\nexport default class ObsidianToGhostPublisher extends Plugin {\n  settings!: GhostPublisherSettings;\n\n  async onload() {\n    console.log('loading Obsidian to Ghost Publisher plugin');\n\n    // Load settings\n    await this.loadSettings();\n\n    // Add the settings tab\n    this.addSettingTab(new GhostSettingsTab(this.app, this));\n\n    // Add a command to publish to Ghost\n    this.addCommand({\n      id: 'publish-to-ghost',\n      name: 'Publish to Ghost',\n      callback: async () => {\n        try {\n          const secretKeys = await this.app.secretStorage.listSecrets();\n          console.log('Available secret keys:', secretKeys);\n          new Notice('Secret keys logged to console.');\n        } catch (e) {\n          console.error('Error listing secrets:', e);\n          new Notice('Error listing secrets. See console for details.');\n        }\n      },\n    });\n  }\n\n  onunload() {\n    console.log('unloading Obsidian to Ghost Publisher plugin');\n  }\n\n  async loadSettings() {\n    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());\n  }\n\n  async saveSettings() {\n    await this.saveData(this.settings);\n  }\n}\n\nclass GhostSettingsTab extends PluginSettingTab {\n  plugin: ObsidianToGhostPublisher;\n\n  constructor(app: App, plugin: ObsidianToGhostPublisher) {\n    super(app, plugin);\n    this.plugin = plugin;\n  }\n\n  display(): void {\n    const { containerEl } = this;\n\n    containerEl.empty();\n\n    containerEl.createEl('h2', { text: 'Ghost Publisher Settings' });\n\n    new Setting(containerEl)\n      .setName('Blog URL')\n      .setDesc('The public URL of your Ghost blog (e.g., https://myblog.com)')\n      .addText(text => text\n        .setPlaceholder('https://myblog.com')\n        .setValue(this.plugin.settings.blogUrl)\n        .onChange(async (value) => {\n          this.plugin.settings.blogUrl = value;\n          await this.plugin.saveSettings();\n        }));\n\n    new Setting(containerEl)\n      .setName('Writing Folder Path')\n      .setDesc('The path to the root folder containing your drafts and published posts.')\n      .addText(text => text\n        .setPlaceholder('writing')\n        .setValue(this.plugin.settings.writingFolderPath)\n        .onChange(async (value) => {\n          this.plugin.settings.writingFolderPath = value;\n          await this.plugin.saveSettings();\n        }));\n  }\n}\n"]}